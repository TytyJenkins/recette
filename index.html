<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Titre de la page</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,300" rel="stylesheet" type="text/css">
  <script src="script.js"></script>
</head>
<body>
    <header class="container">
        <h1 class="block-title">Recette</h1>
        <button id="pushArray">Push</button>
    </header>

    
    <main id="article-grid" class="container">
        <!-- article list content -->
    </main>

    <script>
        window.addEventListener("DOMContentLoaded", () => {
            // variables
            let jsonObj = "https://raw.githubusercontent.com/TytyJenkins/recette/main/article.json";
            let jsonTest ="";
            const articleContainer = document.getElementById('article-grid');
            const button = document.getElementById('pushArray');
            let articleItem = "";

            // generate html
            function cardRecipe(i) {
                articleItem = `
                    <p>Salut ${i.title}</p>
                `
                return articleItem;
            }

            // functions
            function showList(){
                fetch(jsonObj)
                .then(response => response.json())
                .then(data => createArticle(data));
            }

            function createArticle(data) {
                for (let i = 0; i < data.result.length; i++) {
                    let dataI = data.result[i];
                    articleContainer.innerHTML += cardRecipe(dataI);
                }
            }

            function addNewArticle() {
                // const title = "boeuf";
                // const tag = ["allSeason", "longTime"];
                // const time = "1h";
                // const ingredient = ["viande", "carottes"];

                // for(i=0; i <= 2; i++) {
                //     let newRecipe = 
                //         {
                //             "id": i,
                //             "title": title,
                //             "tag": tag,
                //             "time": time,
                //             "ingredient": ingredient
                //         }
                    
                //     jsonObj.result[i] = newRecipe;
                // }

                console.log(jsonObj.result);
            }

            // events
            showList();

            button.addEventListener('click', addNewArticle);

        });
      </script>
</body>
</html>